<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Numerical Method | My New Hugo Site</title>
<meta name="keywords" content="#Math">
<meta name="description" content="Truncation Errors and the Taylor Series
Truncation errors are those that result from using approximation in place of an exact mathematical procedure.
$$ \frac{dv}{dt} \approx \frac{\Delta v}{\Delta t} = \frac{v(t_{i&#43;1})-v(t_i)}{t_{i&#43;1}-t_i}$$
A truncation error was introduced into the numerical solution because the difference equation only approximates the true value of the derivative. In order to gain insight into the properties of such errors, we now turn to a mathematical formulation that is used widely in numerical methods to express functions in an approximate fashion— the Taylor series.">
<meta name="author" content="">
<link rel="canonical" href="http://localhost:1313/posts/numerical-method/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.6da9a63d25a9608bca2f7f907a030e887a7dd3c3f3918e4cc113129361414bda.css" integrity="sha256-bammPSWpYIvKL3&#43;QegMOiHp908PzkY5MwRMSk2FBS9o=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/numerical-method/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css" integrity="sha384-5TcZemv2l/9On385z///+d7MSYlvIEw9FuZTIdZ14vJLqWphw7e7ZPuOiCHJcFCP" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js" integrity="sha384-cMkvdD8LoxVzGF/RPUKAcvmm49FQ0oxwDF3BGKtDXcEc+T1b2N+teh/OJfpU0jr6" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js" integrity="sha384-hCXGrW6PitJEwbkoStFjeJxv+fSOOQKOPbJxSfM6G5sWZjAyWhXiTIIAmQqnlLlh" crossorigin="anonymous"></script>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
          
          
          delimiters: [
              {left: '$$', right: '$$', display: true},
              {left: '$', right: '$', display: false},
              {left: '\\(', right: '\\)', display: false},
              {left: '\\[', right: '\\]', display: true}
          ],
          
          throwOnError : false
        });
    });
</script>
<meta property="og:url" content="http://localhost:1313/posts/numerical-method/">
  <meta property="og:site_name" content="My New Hugo Site">
  <meta property="og:title" content="Numerical Method">
  <meta property="og:description" content="Truncation Errors and the Taylor Series Truncation errors are those that result from using approximation in place of an exact mathematical procedure. $$ \frac{dv}{dt} \approx \frac{\Delta v}{\Delta t} = \frac{v(t_{i&#43;1})-v(t_i)}{t_{i&#43;1}-t_i}$$ A truncation error was introduced into the numerical solution because the difference equation only approximates the true value of the derivative. In order to gain insight into the properties of such errors, we now turn to a mathematical formulation that is used widely in numerical methods to express functions in an approximate fashion— the Taylor series.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-03-17T13:18:12+07:00">
    <meta property="article:modified_time" content="2025-03-17T13:18:12+07:00">
    <meta property="article:tag" content="#Math">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Numerical Method">
<meta name="twitter:description" content="Truncation Errors and the Taylor Series
Truncation errors are those that result from using approximation in place of an exact mathematical procedure.
$$ \frac{dv}{dt} \approx \frac{\Delta v}{\Delta t} = \frac{v(t_{i&#43;1})-v(t_i)}{t_{i&#43;1}-t_i}$$
A truncation error was introduced into the numerical solution because the difference equation only approximates the true value of the derivative. In order to gain insight into the properties of such errors, we now turn to a mathematical formulation that is used widely in numerical methods to express functions in an approximate fashion— the Taylor series.">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Numerical Method",
      "item": "http://localhost:1313/posts/numerical-method/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Numerical Method",
  "name": "Numerical Method",
  "description": "Truncation Errors and the Taylor Series Truncation errors are those that result from using approximation in place of an exact mathematical procedure. $$ \\frac{dv}{dt} \\approx \\frac{\\Delta v}{\\Delta t} = \\frac{v(t_{i+1})-v(t_i)}{t_{i+1}-t_i}$$ A truncation error was introduced into the numerical solution because the difference equation only approximates the true value of the derivative. In order to gain insight into the properties of such errors, we now turn to a mathematical formulation that is used widely in numerical methods to express functions in an approximate fashion— the Taylor series.\n",
  "keywords": [
    "#Math"
  ],
  "articleBody": "Truncation Errors and the Taylor Series Truncation errors are those that result from using approximation in place of an exact mathematical procedure. $$ \\frac{dv}{dt} \\approx \\frac{\\Delta v}{\\Delta t} = \\frac{v(t_{i+1})-v(t_i)}{t_{i+1}-t_i}$$ A truncation error was introduced into the numerical solution because the difference equation only approximates the true value of the derivative. In order to gain insight into the properties of such errors, we now turn to a mathematical formulation that is used widely in numerical methods to express functions in an approximate fashion— the Taylor series.\nThe Taylor Series Taylor’s theorem (Box 4.1) and its associated formula, the Taylor series, is of great value in the study of numerical methods. In essence, the Taylor series provides a means to predict a function value at one point in terms of the function value and its derivative at another point. In particular, the theorem states that any smooth function can be approximated as a polynomial. A useful way to gain insights into Taylor series is to build it term by term. For example, the first term in the series is $$ f(x_{i+1} \\approx f(x_i)) $$ This relationship, called the zero-order approximation, indicates that the value of $f$ at the new point is the same as its value at the old point. This result make intuitive sense because if $x_i$ and $x_{i+1}$ are close to each other, it is likely that the new value is probably similar to the old value.\nTaylor’s theorem If the function $f$ and its $n+1$ derivatives are continuous on an interval containing $a$ and $x$, then the value of the function at $x$ is given by. $$ f(x) = f(a) +f’(a)(x-a)+\\frac{f’’(a)}{2!}(x-a)^2+…+\\frac{f^{(n)}(a)}{n!}(x-a)^n + R_n $$ where the remainder (truncation error) $R_n$ is defined as $$ R_n = \\int_{a}^{x} \\frac{(x-t)^{(n+1)}}{(n+1)!}f^{n+1} $$\nnth order approximation $$ \\begin{align} f(x_{i+1}) = f(x_i) +f’(x_i)(x_{i+1}-x_i)+\\frac{f’’}{2!}(x_{i+1}-x_i)^2+…\\ +\\frac{f^{(n)}}{n!}(x_{i+1}-x_i)^n + R_n \\end{align} $$ where $(x_{i+1}-x_i)=h$ (step size)\nExample: Taylor Series Approximation of a Polynomial Problem Statement Use zero- through fourth-order Taylor series expansions to approximate the function $$ f(x)= -0.1x^4-0.15x^3-0.5x^2-0.25x+1.2$$ from $x_i=0$ with $h=1$. That is, the predict function’s value at $x_{i+1}=1$. Solution: Because we are dealing with a known function, we can compute values for $f(x)$ between $0$ and $1$. The results in the figure indicate that the function starts at $f(0)=1.2$ and the curves downward to $f(1)=0.2$. Thus the true value we w to predict is 0.2.\nThe Taylor series approximation with $n=0$ is $$ f(x_{i+1}) \\approx 1.2 $$\nThus, as in the zero-order approximation is a constant. Using this formulation results in a truncation error of\n$$ E_t = 0.2 - 1.2 = -1.0 $$\nat $x = 1$.\nFor $n = 1$, the first derivative must be determined and evaluated at $x = 0$:\n$$ f’(0) = -0.4(0.0)^3 - 0.45(0.0)^2 - 1.0(0.0) - 0.25 = -0.25 $$\nTherefore, the first-order approximation is\n$$ f(x_{i+1}) \\approx 1.2 - 0.25h $$\nwhich can be used to compute $f(1) = 0.95$. Consequently, the approximation begins to capture the downward trajectory of the function in the form of a sloping straight line. This results in a reduction of the truncation error to\n$$ E_t = 0.2 - 0.95 = -0.75 $$\nFor $n = 2$, the second derivative is evaluated at $x = 0$:\n$$ f’’(0) = -1.2(0.0)^2 - 0.9(0.0) - 1.0 = -1.0 $$\nTherefore, according to,\n$$ f(x_{i+1}) \\approx 1.2 - 0.25h - 0.5h^2 $$\nand substituting $h = 1$, $f(1) = 0.45$. The inclusion of the second derivative now adds some downward curvature resulting in an improved estimate, as seen in. The truncation error is reduced further to\n$$ 0.2 - 0.45 = -0.25. $$\nMaclaurin Series is the special case of Taylor series where $a=0$\n",
  "wordCount" : "611",
  "inLanguage": "en",
  "datePublished": "2025-03-17T13:18:12+07:00",
  "dateModified": "2025-03-17T13:18:12+07:00",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/numerical-method/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "My New Hugo Site",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="My New Hugo Site (Alt + H)">My New Hugo Site</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/archives" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://github.com/adityatelange/hugo-PaperMod/wiki/" title="WiKi">
                    <span>WiKi</span>&nbsp;
                    <svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round"
                        stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12">
                        <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"></path>
                        <path d="M15 3h6v6"></path>
                        <path d="M10 14L21 3"></path>
                    </svg>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="http://localhost:1313/">Home</a>&nbsp;»&nbsp;<a href="http://localhost:1313/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      Numerical Method
    </h1>
    <div class="post-meta"><span title='2025-03-17 13:18:12 +0700 +07'>March 17, 2025</span>&nbsp;·&nbsp;3 min

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#truncation-errors-and-the-taylor-series" aria-label="Truncation Errors and the Taylor Series">Truncation Errors and the Taylor Series</a><ul>
                        
                <li>
                    <a href="#the-taylor-series" aria-label="The Taylor Series">The Taylor Series</a></li>
                <li>
                    <a href="#taylors-theorem" aria-label="Taylor&rsquo;s theorem">Taylor&rsquo;s theorem</a><ul>
                        
                <li>
                    <a href="#example-taylor-series-approximation-of-a-polynomial" aria-label="Example: Taylor Series Approximation of a Polynomial">Example: Taylor Series Approximation of a Polynomial</a>
                </li>
            </ul>
            </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h2 id="truncation-errors-and-the-taylor-series">Truncation Errors and the Taylor Series<a hidden class="anchor" aria-hidden="true" href="#truncation-errors-and-the-taylor-series">#</a></h2>
<p>Truncation errors are those that result from using approximation in place of an exact mathematical procedure.
$$ \frac{dv}{dt} \approx \frac{\Delta v}{\Delta t} = \frac{v(t_{i+1})-v(t_i)}{t_{i+1}-t_i}$$
A truncation error was introduced into the numerical solution because the difference equation only approximates the true value of the derivative. In order to gain insight into the properties of such errors, we now turn to a mathematical formulation that is used widely in numerical methods to express functions in an approximate fashion— the Taylor series.</p>
<h3 id="the-taylor-series">The Taylor Series<a hidden class="anchor" aria-hidden="true" href="#the-taylor-series">#</a></h3>
<p>Taylor’s theorem (Box 4.1) and its associated formula, the Taylor series, is of great value in the study of numerical methods. In essence, the <em>Taylor series</em> provides a means to predict a function value at one point in terms of the function value and its derivative at another point. In particular, the theorem states that any smooth function can be approximated as a polynomial.
A useful way to gain insights into Taylor series is to build it term by term. For example, the first term in the series is
$$
f(x_{i+1} \approx f(x_i))
$$
This relationship, called the zero-order approximation, indicates that the value of $f$ at the new point is the same as its value at the old point. This result make intuitive sense because if $x_i$ and $x_{i+1}$ are close to each other, it is likely that the new value is probably similar to the old value.</p>
<h3 id="taylors-theorem">Taylor&rsquo;s theorem<a hidden class="anchor" aria-hidden="true" href="#taylors-theorem">#</a></h3>
<p>If the function $f$ and its $n+1$ derivatives are continuous on an interval containing $a$ and $x$, then the value of the function at $x$ is given by.
$$
f(x) = f(a) +f&rsquo;(a)(x-a)+\frac{f&rsquo;&rsquo;(a)}{2!}(x-a)^2+&hellip;+\frac{f^{(n)}(a)}{n!}(x-a)^n + R_n
$$
where the <strong>remainder (truncation error)</strong> $R_n$ is defined as
$$
R_n = \int_{a}^{x} \frac{(x-t)^{(n+1)}}{(n+1)!}f^{n+1}
$$</p>
<p><strong>nth order approximation</strong>
$$
\begin{align}
f(x_{i+1}) = f(x_i) +f&rsquo;(x_i)(x_{i+1}-x_i)+\frac{f&rsquo;&rsquo;}{2!}(x_{i+1}-x_i)^2+&hellip;\ +\frac{f^{(n)}}{n!}(x_{i+1}-x_i)^n + R_n
\end{align}
$$
where $(x_{i+1}-x_i)=h$ (step size)</p>
<h4 id="example-taylor-series-approximation-of-a-polynomial">Example: Taylor Series Approximation of a Polynomial<a hidden class="anchor" aria-hidden="true" href="#example-taylor-series-approximation-of-a-polynomial">#</a></h4>
<p><strong>Problem Statement</strong> Use zero- through fourth-order Taylor series expansions to approximate the function
$$ f(x)= -0.1x^4-0.15x^3-0.5x^2-0.25x+1.2$$
from $x_i=0$ with $h=1$. That is, the predict function&rsquo;s value at $x_{i+1}=1$.
<img loading="lazy" src="/posts/numerical-method/img/example-taylor-1.png">
<strong>Solution</strong>: Because we are dealing with a known function, we can compute values for $f(x)$ between $0$ and $1$. The results in the figure indicate that the function starts at $f(0)=1.2$ and the curves downward to $f(1)=0.2$. Thus the true value we w to predict is 0.2.</p>
<p>The Taylor series approximation with $n=0$ is
$$ f(x_{i+1}) \approx 1.2 $$</p>
<p>Thus, as in the zero-order approximation is a constant. Using this formulation results in a truncation error of</p>
<p>$$
E_t = 0.2 - 1.2 = -1.0
$$</p>
<p>at $x = 1$.</p>
<p>For $n = 1$, the first derivative must be determined and evaluated at $x = 0$:</p>
<p>$$
f&rsquo;(0) = -0.4(0.0)^3 - 0.45(0.0)^2 - 1.0(0.0) - 0.25 = -0.25
$$</p>
<p>Therefore, the first-order approximation is</p>
<p>$$
f(x_{i+1}) \approx 1.2 - 0.25h
$$</p>
<p>which can be used to compute $f(1) = 0.95$. Consequently, the approximation begins to capture the downward trajectory of the function in the form of a sloping straight line. This results in a reduction of the truncation error to</p>
<p>$$
E_t = 0.2 - 0.95 = -0.75
$$</p>
<p>For $n = 2$, the second derivative is evaluated at $x = 0$:</p>
<p>$$
f&rsquo;&rsquo;(0) = -1.2(0.0)^2 - 0.9(0.0) - 1.0 = -1.0
$$</p>
<p>Therefore, according to,</p>
<p>$$
f(x_{i+1}) \approx 1.2 - 0.25h - 0.5h^2
$$</p>
<p>and substituting $h = 1$, $f(1) = 0.45$. The inclusion of the second derivative now adds some downward curvature resulting in an improved estimate, as seen in. The truncation error is reduced further to</p>
<p>$$
0.2 - 0.45 = -0.25.
$$</p>
<p><strong>Maclaurin Series</strong> is the special case of Taylor series where $a=0$</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://localhost:1313/tags/%23math/">#Math</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/information-theory/">
    <span class="title">« Prev</span>
    <br>
    <span>Information Theory</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/optical-flow/">
    <span class="title">Next »</span>
    <br>
    <span>Optical Flow</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="http://localhost:1313/">My New Hugo Site</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
